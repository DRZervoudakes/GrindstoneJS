/* Grindstone JavaScript Library v1.2.5 | Copyright (c) 2014, 2016 Dan Zervoudakes | https://github.com/DanZiti/GrindstoneJS/blob/master/LICENSE */
!function(a,b){"use strict";var c=function(a,c){if(!a)throw new Error("Cannot create new instance of Grindstone without a selector.");var d,e,f,g,h;if("string"==typeof a){if(c)for(e=b.querySelectorAll(c),d=[],g=0;g<e.length;g++)for(f=e[g].querySelectorAll(a),h=0;h<f.length;h++)d.push(f[h]);else d=b.querySelectorAll(a);return d.length>0?(this.set=d,this):[]}"object"==typeof a&&(this.set=[a])},d=function(a,b){return new c(a,b)};return d.fn=c.prototype,d.fn.init=function(a){for(var b=0;b<this.set.length;b++)a.call(this.set[b])},d.ajax=function(a){function b(b){return a.hasOwnProperty(b)}var c,d,e,f,g,h,i,j;if("object"!=typeof a)throw new Error("Ajax request cannot be sent.");return c=b("method")?a.method:null,d=b("url")?a.url:null,e=b("async")?a.async:!0,f=b("success")?a.success:null,i=b("str")?a.sendStr:null,j=new XMLHttpRequest,j.onreadystatechange=function(){4===j.readyState&&404!==j.status&&f(j)},j.open(c,d,e),b("header")&&b("headerValue")?j.setRequestHeader(g,h):j.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),j.send(i),j},d.fn.append=function(a){var b,c;return this.init(function(){if("string"==typeof a)if(a.match(/(<).+(>)/))this.innerHTML+=a;else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.appendChild(b[c]);else this.appendChild(a)}),this},d.fn.attr=function(a,b){var c;return this.init(function(){b?this.setAttribute(a,b):c=this.getAttribute(a)}),b?this:c},d.fn.hasAttr=function(a){var b;return this.init(function(){a&&(b=null!==d(this).attr(a))}),b},d.fn.removeAttr=function(a){return this.init(function(){a&&this.removeAttribute(a)}),this},d.fn.css=function(a,b){var c,d;return this.init(function(){if("object"==typeof a)for(d in a)this.style[d]=a[d];else"string"!=typeof a||b?"string"==typeof a&&"string"==typeof b&&(this.style[a]=b):c=this.style[a]}),"object"==typeof a||"string"==typeof a&&b?this:c},d.regxCls=function(a){return new RegExp("(\\s|^)"+a+"(\\s|$)")},d.fn.hasClass=function(a){var b;return this.init(function(){b=null!==this.className.match(d.regxCls(a))}),b},d.fn.addClass=function(a){return this.init(function(){d(this).hasClass(a)||(""===this.className?this.className+=a:this.className+=" "+a)}),this},d.fn.removeClass=function(a){return this.init(function(){d(this).hasClass(a)&&(this.className=this.className.replace(d.regxCls(a),""))}),this},d.fn.toggleClass=function(a){return this.init(function(){d(this).hasClass(a)?d(this).removeClass(a):d(this).addClass(a)}),this},d.fn.clone=function(){return this.set[0].cloneNode(!0)},d.fn.height=function(a){return"number"!=typeof a&&0!==a?this.set[0].offsetHeight:(this.init(function(){this.style.height=a+"px"}),this)},d.fn.width=function(a){return"number"!=typeof a&&0!==a?this.set[0].offsetWidth:(this.init(function(){this.style.width=a+"px"}),this)},d.fn.show=function(a){return this.init(function(){if("number"==typeof a){var b=this;setTimeout(function(){b.style.display="block"},a)}else this.style.display="block"}),this},d.fn.hide=function(a){return this.init(function(){if("number"==typeof a){var b=this;setTimeout(function(){b.style.display="none"},a)}else this.style.display="none"}),this},d.fn.doubleTap=function(a){var b,c;return this.init(function(){b=!1,c="createTouch"in document?"touchend":"click",d(this).on(c,function(){return b?(a(),b=!1):(b=!0,void setTimeout(function(){return b=!1},350))})}),this},d.fn.each=function(a){for(var b=0;b<this.set.length;b++)a.call(this.set[b]);return this},d.fn.eq=function(a){return d(this.set[a])},d.fn.on=function(a,b){var c,d;return this.init(function(){for(c=a.split(" "),d=0;d<c.length;d++)this.addEventListener(c[d],b,!1)}),this},d.fn.off=function(a,b){var c,d;return this.init(function(){for(c=a.split(" "),d=0;d<c.length;d++)this.removeEventListener(c[d],b,!1)}),this},d.fn.html=function(a){var b;return this.init(function(){a?this.innerHTML=a:b=this.innerHTML}),a?this:b},d.fn.before=function(a){var b,c;return this.init(function(){if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.insertAdjacentHTML("beforebegin",a);else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.parentNode.insertBefore(b[c],this);else this.parentNode.insertBefore(a,this)}),this},d.fn.after=function(a){var b,c;return this.init(function(){if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.insertAdjacentHTML("afterend",a);else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.parentNode.insertBefore(b[c],this.nextSibling);else this.parentNode.insertBefore(a,this.nextSibling)}),this},d.fn.mouseable=function(a){var b,c,e,f,g,h;if(a){if("object"!=typeof a)throw new Error("Classes parameter for mouseable() must be an object with properties 'hoverClass' and/or 'activeClass'.");b=a.hasOwnProperty("hoverClass")?a.hoverClass:"over",c=a.hasOwnProperty("activeClass")?a.activeClass:"down"}else b="over",c="down";e="createTouch"in document?"touchstart":"mouseenter",f="createTouch"in document?"touchend":"mouseleave",g="createTouch"in document?"touchstart":"mousedown",h="createTouch"in document?"touchend":"mouseup mouseleave",this.init(function(){d(this).on(e,function(){d(this).addClass(b)}).on(f,function(){d(this).removeClass(b+" "+c).removeClass(b)}).on(g,function(){d(this).addClass(c)}).on(h,function(){d(this).removeClass(c)})})},d.newEl=function(a,b,c,d){if(a){var e=document.createElement(a);return e.id=b?b:"",e.className=c?c:"",e.innerHTML=d?d:"",e}throw new Error("New element type is undefined.")},d.fn.offset=function(a){var b,c,d;if(!a||"string"!=typeof a)throw new Error("offset() position must be a string: acceptable values are 'left' and 'top'.");if("left"!==a&&"top"!==a)throw new Error("offset() position must be either 'left' or 'top'.");if(b=this.set[0],"left"===a){c=0;do isNaN(b.offsetLeft)||(c+=b.offsetLeft);while(b=b.offsetParent);return c}if("top"===a){d=0;do isNaN(b.offsetTop)||(d+=b.offsetTop);while(b=b.offsetParent);return d}},d.fn.prepend=function(a){var b,c;return this.init(function(){if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.insertAdjacentHTML("afterbegin",a);else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.insertBefore(b[c],this.firstChild);else this.insertBefore(a,this.firstChild)}),this},d.fn.ready=function(a){return this.init(function(){this.addEventListener("DOMContentLoaded",a,!1)}),this},d.fn.load=function(a){return this.init(function(){this.addEventListener("load",a,!1)}),this},d.fn.remove=function(a){var b,c,d,e;if(a)for(b=document.querySelectorAll(a),c=this.set,d=0;d<c.length;d++)for(e=0;e<b.length;e++)c[d].removeChild(b[e]);else for(d=0;d<this.set.length;d++)this.set[d].parentNode.removeChild(this.set[d]);return this},d.fn.replaceWith=function(a){return this.init(function(){a&&(this.outerHTML=a)}),this},d.fn.resize=function(a){return this.init(function(){d(this).on("resize",function(){a()})}),this},d.fn.scroll=function(a){return this.init(function(){d(this).on("scroll",function(){a()})}),this},d.fn.scrollTop=function(a){var b;return this.init(function(){this===window?"number"==typeof a?this.scrollTo(0,a):b=this.pageYOffset:"number"==typeof a?this.scrollTop=a:b=this.scrollTop}),"number"==typeof a?this:b},d.fn.trigger=function(a){var b=new Event(a);return this.init(function(){this.dispatchEvent(b)}),this},d.fn.val=function(a,b){return this.init(function(){d(this).attr("data-value-"+a,b)}),this},d.fn.getVal=function(a){var b;return this.init(function(){b=d(this).attr("data-value-"+a)}),b},d.fn.removeVal=function(a){return this.init(function(){d(this).removeAttr("data-value-"+a)}),this},d.fn.wrap=function(a){var b,c;return this.init(function(){if("string"!=typeof a)throw new Error("wrap() structure must be specified as a string.");b=this.outerHTML,c=a,this.outerHTML=c+b}),this},d.fn.wrapInner=function(a){var b,c;return this.init(function(){if("string"!=typeof a)throw new Error("wrapInner() structure must be specified as a string.");b=d(this).html(),c=a,d(this).html(c+b)}),this},a.Grindstone=a.$=d}(window,document);