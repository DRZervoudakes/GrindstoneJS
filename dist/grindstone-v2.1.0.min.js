/* Grindstone JavaScript Library v2.1.0 | Copyright (c) 2014, 2016 Dan Zervoudakes | https://github.com/dzervoudakes/GrindstoneJS/blob/master/LICENSE */
!function(t,e){"use strict";var n=function(n,i){if(!n)throw new Error("Cannot create new instance of Grindstone without a selector.");var s,r,o;return"string"==typeof n?(i?(r=e.querySelectorAll(i),s=[],[].forEach.call(r,function(t){o=t.querySelectorAll(n),[].forEach.call(o,function(t){s.push(t)})})):s=e.querySelectorAll(n),this.set=s.length?s:[],this):void("object"!=typeof n&&n!==t&&n!==e||(this.set=[n]))},i=function(t,e){return new n(t,e)};i.fn=n.prototype;var s={};return s.prop=function(t,e){return t.hasOwnProperty(e)},i.ajax=function(t){var e,n,i,r,o,h,f,u;if("object"!=typeof t)throw new Error("XHR properties are not properly defined.");return e=s.prop(t,"method")?t.method:null,n=s.prop(t,"url")?t.url:null,i=s.prop(t,"async")?t.async:!0,r=s.prop(t,"success")?t.success:null,o=s.prop(t,"error")?t.error:function(){},u=new XMLHttpRequest,u.onreadystatechange=function(){4===u.readyState&&(200===u.status?r(u):o(u))},u.open(e,n,i),s.prop(t,"header")&&s.prop(t,"headerValue")?u.setRequestHeader(h,f):u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),u.send(null),u},i.fn.append=function(t){var n;return this.each(function(){"string"==typeof t?t.match(/(<).+(>)/)?this.innerHTML+=t:(n=e.querySelectorAll(t),[].forEach.call(n,function(t){this.appendChild(t)})):this.appendChild(t)}),this},i.fn.attr=function(t,e){var n;return this.each(function(){e?this.setAttribute(t,e):n=this.getAttribute(t)}),e?this:n},i.fn.hasAttr=function(t){var e;return this.each(function(){t&&(e=null!==i(this).attr(t))}),e},i.fn.removeAttr=function(t){return this.each(function(){t&&this.removeAttribute(t)}),this},i.fn.css=function(t,e){var n;return this.each(function(){if("object"==typeof t)for(var i in t)this.style[i]=t[i];else"string"!=typeof t||e?"string"==typeof t&&"string"==typeof e&&(this.style[t]=e):n=this.style[t]}),"object"==typeof t||"string"==typeof t&&e?this:n},i.fn.hasClass=function(t){var e;return this.each(function(){e=this.classList.contains(t)}),e},i.fn.addClass=function(t){var e,n;return this.each(function(){if(!i(this).hasClass(t))for(e=t.split(" "),n=0;n<e.length;n++)this.classList.add(e[n])}),this},i.fn.removeClass=function(t){var e,n;return this.each(function(){if(i(this).hasClass(t))for(e=t.split(" "),n=0;n<e.length;n++)this.classList.remove(e[n])}),this},i.fn.toggleClass=function(t){var e,n;return this.each(function(){for(e=t.split(" "),n=0;n<e.length;n++)this.classList.toggle(e[n])}),this},i.fn.clone=function(){return this.set[0].cloneNode(!0)},i.fn.data=function(t,e){if(e)return this.each(function(){i(this).attr("data-"+t,e)}),this;var n;return this.each(function(){n=i(this).attr("data-"+t)}),n},i.fn.removeData=function(t){return this.each(function(){i(this).removeAttr("data-"+t)}),this},i.debounce=function(t,e,n){var i,s=function(){var s=this,r=arguments,o=function(){i=null,n||t.apply(s,r)},h=n&&!i;clearTimeout(i),i=setTimeout(o,e),h&&t.apply(s,r)};return s},i.fn.height=function(n){if("number"==typeof n||0===n)return this.each(function(){this.style.height=n+"px"}),this;var i=this.set[0];return i===e?e.body.clientHeight:i===t?t.innerHeight:this.set[0].offsetHeight},i.fn.width=function(n){if("number"==typeof n||0===n)return this.each(function(){this.style.width=n+"px"}),this;var i=this.set[0];return i===e?e.body.clientWidth:i===t?t.innerWidth:this.set[0].offsetWidth},i.fn.show=function(t){return this.each(function(){if("number"==typeof t){var e=this;setTimeout(function(){e.style.display="block"},t)}else this.style.display="block"}),this},i.fn.hide=function(t){return this.each(function(){if("number"==typeof t){var e=this;setTimeout(function(){e.style.display="none"},t)}else this.style.display="none"}),this},i.fn.doubleTap=function(t){var n,s;return this.each(function(){n=!1,s="ontouchend"in e?"touchend":"click",i(this).on(s,function(){return n?(t(),n=!1):(n=!0,void setTimeout(function(){return n=!1},350))})}),this},i.fn.each=function(t){for(var e=0;e<this.set.length;e++)t.call(this.set[e]);return this},i.fn.eq=function(t){return i(this.set[t])},i.fn.on=function(t,e){var n,i;return this.each(function(){for(n=t.split(" "),i=0;i<n.length;i++)this.addEventListener(n[i],e,!1)}),this},i.fn.off=function(t,e){var n,i;return this.each(function(){for(n=t.split(" "),i=0;i<n.length;i++)this.removeEventListener(n[i],e,!1)}),this},i.fn.focus=function(t){return"function"==typeof t?this.each(function(){i(this).on("focus",t)}):this.set[0].focus(),this},i.fn.html=function(t){var e;return this.each(function(){t?this.innerHTML=t:e=this.innerHTML}),t?this:e},i.fn.before=function(t){var n,i;return this.each(function(){if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("beforebegin",t);else for(n=e.querySelectorAll(t),i=0;i<n.length;i++)this.parentNode.insertBefore(n[i],this);else this.parentNode.insertBefore(t,this)}),this},i.fn.after=function(t){var n,i;return this.each(function(){if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("afterend",t);else for(n=e.querySelectorAll(t),i=0;i<n.length;i++)this.parentNode.insertBefore(n[i],this.nextSibling);else this.parentNode.insertBefore(t,this.nextSibling)}),this},i.fn.mouseable=function(t){function n(t,n){return"ontouchend"in e?t:n}var s,r;if(t){if("object"!=typeof t)throw new Error('Classes parameter for mouseable() must be an object with properties "hoverClass" and/or "activeClass".');s=t.hasOwnProperty("hoverClass")?t.hoverClass:"over",r=t.hasOwnProperty("activeClass")?t.activeClass:"down"}else s="over",r="down";var o={hover:n("touchstart","mouseenter"),remove:n("touchend","mouseleave"),down:n("touchstart","mousedown"),up:n("touchend","mouseup mouseleave")};return this.each(function(){i(this).on(o.hover,function(){i(this).addClass(s)}).on(o.remove,function(){i(this).removeClass(s)}).on(o.down,function(){i(this).addClass(r)}).on(o.up,function(){i(this).removeClass(r)})}),this},i.fn.offset=function(t){var e,n,i;if(!t||"string"!=typeof t)throw new Error('offset() position must be a string: acceptable values are "left" and "top".');if("left"!==t&&"top"!==t)throw new Error('offset() position must be either "left" or "top".');if(e=this.set[0],"left"===t){n=0;do isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return n}if("top"===t){i=0;do isNaN(e.offsetTop)||(i+=e.offsetTop);while(e=e.offsetParent);return i}},i.fn.prepend=function(t){var n,i;return this.each(function(){if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("afterbegin",t);else for(n=e.querySelectorAll(t),i=0;i<n.length;i++)this.insertBefore(n[i],this.firstChild);else this.insertBefore(t,this.firstChild)}),this},i.fn.ready=function(t){return"function"==typeof t&&this.each(function(){i(this).on("DOMContentLoaded",t)}),this},i.fn.load=function(t){return"function"==typeof t&&this.each(function(){i(this).on("load",t)}),this},i.fn.remove=function(t){var n,i,s,r;if(t)for(n=e.querySelectorAll(t),i=this.set,s=0;s<i.length;s++)for(r=0;r<n.length;r++)i[s].removeChild(n[r]);else for(s=0;s<this.set.length;s++)this.set[s].parentNode.removeChild(this.set[s]);return this},i.fn.replaceWith=function(t){return this.each(function(){t&&(this.outerHTML=t)}),this},i.fn.resize=function(t){return"function"==typeof t&&this.each(function(){i(this).on("resize",t)}),this},i.fn.scroll=function(t){return"function"==typeof t&&this.each(function(){i(this).on("scroll",t)}),this},i.fn.scrollTop=function(n){var i;return this.each(function(){switch(this){case t:"number"==typeof n?this.scrollTo(0,n):i=this.pageYOffset;break;case e:"number"==typeof n?this.body.scrollTop=n:i=this.body.scrollTop;break;default:"number"==typeof n?this.scrollTop=n:i=this.scrollTop}}),"number"==typeof n?this:i},i.fn.scrollLeft=function(n){var i;return this.each(function(){switch(this){case t:"number"==typeof n?this.scrollTo(n,0):i=this.pageXOffset;break;case e:"number"==typeof n?this.body.scrollLeft=n:i=this.body.scrollLeft;break;default:"number"==typeof n?this.scrollTop=n:i=this.scrollLeft}}),"number"==typeof n?this:i},i.fn.submit=function(t){return"function"==typeof t?this.each(function(){i(this).on("submit",t)}):this.each(function(){this.submit()}),this},i.fn.trigger=function(t){var e=new Event(t);return this.each(function(){this.dispatchEvent(e)}),this},i.fn.val=function(t){return"string"==typeof t?(this.each(function(){this.value=t}),this):this.set[0].value},i.fn.wrap=function(t){var e,n;return this.each(function(){if("string"!=typeof t)throw new Error("wrap() structure must be a string.");e=this.outerHTML,n=t,this.outerHTML=n+e}),this},i.fn.wrapInner=function(t){var e,n;return this.each(function(){if("string"!=typeof t)throw new Error("wrapInner() structure must be a string.");e=i(this).html(),n=t,i(this).html(n+e)}),this},t.Grindstone=t.$=i}(window,document);