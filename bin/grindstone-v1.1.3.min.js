/* Grindstone JavaScript Library v1.1.3 | Copyright (c) 2014, 2015 Dan Zervoudakes | https://github.com/DanZiti/GrindstoneJS/blob/master/LICENSE */
var Grindstone=function(a,b){if(!a)return!1;var c,d,e,f,g;if("string"==typeof a){if(b)for(d=document.querySelectorAll(b),c=[],f=0;f<d.length;f++)for(e=d[f].querySelectorAll(a),g=0;g<e.length;g++)c.push(e[g]);else c=document.querySelectorAll(a);return c.length>0?(this.set=c,this):[]}return"object"!=typeof a?null:void(this.set=[a])},$=function(a,b){return new Grindstone(a,b)};$.forEach=function(a,b){for(var c=0;c<a.length;c++)b.call(a[c])},$.fn=Grindstone.prototype,$.fn.init=function(a){$.forEach(this.set,a)},$.fn.eq=function(a){return $(this.set[a])},$.ajax=function(a){function b(b){return a.hasOwnProperty(b)}var c,d,e,f,g,h,i,j;if(!a||"object"!=typeof a)throw new Error("Ajax request cannot be sent.");return c=b("method")?a.method:null,d=b("url")?a.url:null,e=b("async")?a.async:!0,f=b("success")?a.success:null,i=b("str")?a.sendStr:null,j=new XMLHttpRequest,j.onreadystatechange=function(){4==j.readyState&&200==j.status&&f(j)},j.open(c,d,e),b("header")&&b("headerValue")?j.setRequestHeader(g,h):j.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),j.send(i),j},$.fn.append=function(a){var b,c;return this.init(function(){if(!a)throw new Error("Cannot append undefined element.");if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.innerHTML+=a;else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.appendChild(b[c]);else this.appendChild(a)}),this},$.fn.attr=function(a,b){var c,d;return this.init(function(){if(!a)throw new Error("Please specify an attribute to either edit or return it's value.");b?this.setAttribute(a,b):c=this.getAttribute(a)}),d=b?this:c},$.fn.hasAttr=function(a){var b;return this.init(function(){if(!a)throw new Error("Can't determine if the selected element has null attribute.");b=null!==$(this).attr(a)}),b},$.fn.removeAttr=function(a){return this.init(function(){if(!a)throw new Error("Please specify an attribute to remove.");this.removeAttribute(a)}),this},$.regxCls=function(a){return new RegExp("(\\s|^)"+a+"(\\s|$)")},$.fn.hasClass=function(a){var b;return this.init(function(){if(!a)throw new Error("Cannot determine if the element has undefined class.");b=null!==this.className.match($.regxCls(a))?!0:!1}),b},$.fn.addClass=function(a){return this.init(function(){if(!$(this).hasClass(a)){if(!a)throw new Error("Class to add is undefined.");this.className+=""==this.className?a:" "+a}}),this},$.fn.removeClass=function(a){return this.init(function(){if($(this).hasClass(a)){if(!a)throw new Error("Class to remove is undefined.");this.className=this.className.replace($.regxCls(a),"")}}),this},$.fn.toggleClass=function(a){return this.init(function(){$(this).hasClass(a)?$(this).removeClass(a):$(this).addClass(a)}),this},$.fn.clone=function(){return this.set[0].cloneNode(!0)},$.fn.css=function(a){var b,c,d;return this.init(function(){if(!a)throw new Error("CSS properties are undefined.");if("object"==typeof a)for(c in a)this.style[c]=a[c];else b=this.style[a]}),d="object"==typeof a?this:b},$.fn.height=function(a){return a&&"number"==typeof a?(this.init(function(){this.style.height=a+"px"}),this):this.set[0].offsetHeight},$.fn.width=function(a){return a?(this.init(function(){this.style.width=a+"px"}),this):this.set[0].offsetWidth},$.fn.show=function(a){return this.init(function(){var b=this;if(a){if("number"!=typeof a)throw new Error("Display timeout parameter must be a number.");setTimeout(function(){b.style.display="block"},a)}else b.style.display="block"}),this},$.fn.hide=function(a){return this.init(function(){var b=this;if(a){if("number"!=typeof a)throw new Error("Display timeout parameter must be a number.");setTimeout(function(){b.style.display="none"},a)}else b.style.display="none"}),this},$.fn.doubleTap=function(a){var b,c;return this.init(function(){if(b=!1,c="createTouch"in document?"touchend":"click",!a)throw new Error("Double-tap/double-click callback is undefined.");$(this).evt(c,function(){return b?(a(),b=!1):(b=!0,void setTimeout(function(){return b=!1},350))})}),this},$.fn.each=function(a){var b,c;for(b=this.set,c=0;c<b.length;c++)a.call(b[c]);return this},$.fn.evt=function(a,b){var c,d;return this.init(function(){if(!a)throw new Error("Event to handle is undefined.");if("string"!=typeof a)throw new Error("Type of event action must be a string.");for(c=a.split(" "),d=0;d<c.length;d++)this.addEventListener(c[d],b,!1)}),this},$.fn.dropEvt=function(a,b){var c,d;return this.init(function(){if(!a)throw new Error("Event handler to drop is undefined.");if("string"!=typeof a)throw new Error("Type of event action must be a string.");for(c=a.split(" "),d=0;d<c.length;d++)this.removeEventListener(c[d],b,!1)}),this},$.fn.html=function(a){var b,c;return this.init(function(){a?this.innerHTML=a:b=this.innerHTML}),c=a?this:b},$.fn.before=function(a){var b,c;return this.init(function(){if(!a)throw new Error("Cannot insert null after the specified element.");if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.insertAdjacentHTML("beforebegin",a);else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.parentNode.insertBefore(b[c],this);else this.parentNode.insertBefore(a,this)}),this},$.fn.after=function(a){var b,c;return this.init(function(){if(!a)throw new Error("Cannot insert null after the specified element.");if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.insertAdjacentHTML("afterend",a);else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.parentNode.insertBefore(b[c],this.nextSibling);else this.parentNode.insertBefore(a,this.nextSibling)}),this},$.fn.mouseable=function(a){var b,c,d,e,f,g;if(a){if("object"!=typeof a)throw new Error("Classes parameter for mouseable() must be an object with properties 'hoverClass' and/or 'activeClass'.");b=a.hasOwnProperty("hoverClass")?a.hoverClass:"over",c=a.hasOwnProperty("activeClass")?a.activeClass:"down"}else b="over",c="down";d="createTouch"in document?"touchstart":"mouseenter",e="createTouch"in document?"touchend":"mouseleave",f="createTouch"in document?"touchstart":"mousedown",g="createTouch"in document?"touchend":"mouseup mouseleave",this.init(function(){$(this).evt(d,function(){$(this).addClass(b)}).evt(e,function(){$(this).removeClass(b+" "+c).removeClass(b)}).evt(f,function(){$(this).addClass(c)}).evt(g,function(){$(this).removeClass(c)})})},$.newEl=function(a,b,c,d){if(a){var e=document.createElement(a);return b&&(e.id=b),c&&(e.className=c),d&&(e.innerHTML=d),e}throw new Error("New element type is undefined.")},$.fn.offset=function(a){var b,c,d;if(!a||"string"!=typeof a)throw new Error("Please enter a string value, 'left' or 'top' for offset position.");if("left"!==a&&"top"!==a)throw new Error("Offset position must be either 'left' or 'top'.");if(b=this.set[0],"left"===a){c=0;do isNaN(b.offsetLeft)||(c+=b.offsetLeft);while(b=b.offsetParent);return c}if("top"===a){d=0;do isNaN(b.offsetTop)||(d+=b.offsetTop);while(b=b.offsetParent);return d}},$.fn.prepend=function(a){var b,c;return this.init(function(){if(!a)throw new Error("Cannot prepend undefined element.");if("string"==typeof a)if("<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3)this.insertAdjacentHTML("afterbegin",a);else for(b=document.querySelectorAll(a),c=0;c<b.length;c++)this.insertBefore(b[c],this.firstChild);else this.insertBefore(a,self.firstChild)}),this},$.fn.ready=function(a){return this.init(function(){this.addEventListener("DOMContentLoaded",a,!1)}),this},$.fn.load=function(a){return this.init(function(){this.addEventListener("load",a,!1)}),this},$.fn.remove=function(a){var b,c,d;if(a)for(b=document.querySelectorAll(a),c=this.set,d=0;d<c.length;d++)$.forEach(b,function(){c[d].removeChild(this)});else $.forEach(this.set,function(){this.parentNode.removeChild(this)});return this},$.fn.replaceWith=function(a){return this.init(function(){if(!a)throw new Error("Cannot replace element with null.");this.outerHTML=a}),this},$.fn.resize=function(a){return this.init(function(){$(this).evt("resize",function(){a&&a()})}),this},$.fn.scroll=function(a){return this.init(function(){$(this).evt("scroll",function(){a&&a()})}),this},$.fn.trigger=function(a){var b;if(!a)throw new Error("Cannot trigger undefined event.");return b=new Event(a),this.init(function(){this.dispatchEvent(b)}),this},$.fn.val=function(a,b){return this.init(function(){if(!a||!b)throw new Error("Both value name and value content must be defined in order to assign a value.");if("string"!=typeof a)throw new Error("The name of the value to assign must be a string.");$(this).attr("data-value-"+a,b)}),this},$.fn.getVal=function(a){var b;return this.init(function(){if(!a)throw new Error("Please specify the value to return.");if("string"!=typeof a)throw new Error("The name of the value to return must be a string.");b=$(this).attr("data-value-"+a)}),b},$.fn.removeVal=function(a){return this.init(function(){if(!a)throw new Error("Please specify the value to remove.");if("string"!=typeof a)throw new Error("The name of the value to remove must be a string.");$(this).removeAttr("data-value-"+a)}),this},$.fn.wrapInner=function(a){var b,c;return this.init(function(){if(!a)throw new Error("Cannot wrap the innerHTML of the selected element with null.");if("string"!=typeof a)throw new Error("wrapInner structure must be specified as a string.");b=$(this).html(),c=a,$(this).html(c+b)}),this};