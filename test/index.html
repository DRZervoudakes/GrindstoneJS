<!DOCTYPE html>
<html lang="en-US">
	<head>
		<title>GrindstoneJS</title>
		<meta charset="UTF-8">
		<script src="../dist/grindstone-v2.0.0.js"></script>
		<style type="text/css">
			
			* {
				margin: 0;
				padding: 0;
			}
			
			button {
				border: none;
				outline: none;
			}
			
			body > *:first-child {
				position: relative;
				left: 30px;
				top: 10px;
				/* height: 1000px; */ /* for scrollTop() test */
			}
			
			.test-div {
				position: absolute;
				left: 100px;
				top: 100px;
				height: 60px;
				width: 60px;
				background: #0f0;
				margin-left: 10px; /* for offset() test */
			}
			
			.test-div.over {
				background: #333;
			}
			
			.test-div.down {
				top: 104px;
				left: 104px;
			}
			
			.btns {
				position: absolute;
				right: 100px;
				width: 50px;
				height: 50px;
				background: #069;
				border: 1px solid #069;
			}
			
			.mouseable {
				cursor: pointer;
			}
			
			.btns.over {
				border-color: #f00;
			}
			
			#btn1 {
				top: 100px;
			}
			
			#btn2 {
				top: 210px;
			}
			
			.empty-div {
				margin: 0;
				padding: 0;
				display: none;
			}
			
			.scroll-box {
				position: absolute;
				left: 400px;
				top: 200px;
				width: 400px;
				height: 400px;
				background: #b0b0b0;
				overflow-y: scroll;
			}
			
			.scroll-box > * {
				width: 100%;
				height: 1200px;
			}
			
		</style>
	</head>
	<body>
		<div>
			<div id="test-div" class="test-div mouseable">
				<div id="empty-div01" class="empty-div"></div>
				<div id="empty-div02" class="empty-div"></div>
				<div id="empty-div03" class="empty-div"></div>
				<div id="empty-div04" class="empty-div"></div>
			</div>
		</div>
		<article id="empty-article"></article>
		<button id="btn1" class="btns mouseable"></button>
		<button id="btn2" class="btns mouseable"></button>
		<!--<div id="scroll-box" class="scroll-box">
			<div></div>
		</div>-->
		<script type="text/javascript">
			
			(function(w, d, $) {
				
				var state = {};
				state.dom = {};
				state.eventHandlers = {};
				
				var collectDom = function() {
					state.dom.btn1 = d.getElementById("btn1");
					state.dom.btn2 = d.getElementById("btn2");
					state.dom.$emptyArticle = $("#empty-article");
				};
				
				var gatherEvents = function() {
					
					state.eventHandlers.ajaxTest = function() {
						$.ajax({
							method: "GET",
							url: "ajax-test.html",
							async: true,
							success: function(xmlhttp) {
								var text = xmlhttp.responseText;
								state.dom.$emptyArticle.html(text);
							}
						});
					};
					
					state.eventHandlers.appendTest = function() {
						state.dom.$emptyArticle.append("<div class='append-test'>");
					};
					
					state.eventHandlers.cloneTest = function() {
						var el = $("#btn1").clone();
						$("#test-div").append(el);
						$(el).addClass("CLONED");
					};
					
					state.eventHandlers.htmlTest = function() {
						$(this).html("<p style='font-size: 24px;'>test</p>");
					};
					
					state.eventHandlers.dataTest1 = function() {
						$(this).data("clicked", "oh ya");
						alert($(this).data("clicked"));
					};
					
					state.eventHandlers.dataTest2 = function() {
						$(state.dom.btn2).removeData("clicked");
					};
					
					state.eventHandlers.debounceTest = $.debounce(function() {
						$(window).on("resize", function() {
							console.log($(this).width());
						});
					});
				};
				
				var runTests = function() {
					
					var el = $(state.dom.btn1);
					var el2 = $(state.dom.btn2);
					var test = $("#test-div");
					var buttonsArray = $(".btns");
					var divs = $("div");
					var emptyDivs = $("div", "#test-div");
					
					//el.on("click", state.eventHandlers.dataTest2);
					el2.on("click", state.eventHandlers.debounceTest);
					
					$(".mouseable").mouseable();
					
				};
				
				var init = function() {
					collectDom();
					gatherEvents();
					runTests();
				};
				
				$(d).ready(init);
				
			})(window, document, Grindstone);
			
		</script>
	</body>
</html>